import os
from configparser import ConfigParser

# Создаем объект ConfigParser
config = ConfigParser()

# Заполняем секции конфигурации из переменных окружения
config['Telegram'] = {
    'API_ID': os.getenv('API_ID', 'your_api_id'),
    'API_HASH': os.getenv('API_HASH', 'your_api_hash'),
    'PHONE_NUMBER': os.getenv('PHONE_NUMBER', '+1234567890'),
    'CHANNEL_ID': os.getenv('CHANNEL_ID', '@your_channel')
}
config['Bot'] = {
    'INTERVAL': os.getenv('INTERVAL', '10'),
    'LANGUAGE': os.getenv('LANGUAGE', 'EN')
}
config['Gifts'] = {
    'GIFT_RANGES': os.getenv('GIFT_RANGES', '1-1000: 500000 x 1: @user1, 123456'),
    'PURCHASE_ONLY_UPGRADABLE_GIFTS': os.getenv('PURCHASE_ONLY_UPGRADABLE_GIFTS', 'False'),
    'PRIORITIZE_LOW_SUPPLY': os.getenv('PRIORITIZE_LOW_SUPPLY', 'True')
}

# Сохраняем конфигурацию в config.ini
try:
    with open('config.ini', 'w') as configfile:
        config.write(configfile)
except Exception as e:
    print(f"Error writing config.ini: {e}")
    raise
